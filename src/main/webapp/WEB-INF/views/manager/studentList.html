<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <div th:replace="fragments/resourceLink :: resourceLink"></div>
    <script type="text/javascript" src="../../../resources/js/studentList.js"></script>
    <title>manager&studentList</title>

</head>

<body>
<div class="navbar navbar-inverse" th:replace="fragments/header :: header">
    heah
</div>


<!-- Page container -->
<div class="page-container">

    <!-- Page content -->
    <div class="page-content">

        <!-- Main sidebar -->
        <div class="sidebar sidebar-main">
            <div th:replace="fragments/leftmanager :: leftmanager"></div>
        </div>
        <!-- /main sidebar -->


        <!-- Main content -->
        <div class="content-wrapper">

            <!-- Page header -->
            <div class="page-header page-header-default">
                <div class="page-header-content">
                    <div class="page-title">
                        <h3 data-th-text="管理员页面"></h3>
                    </div>

                    <div class="heading-elements">
                        <div class="heading-btn-group hidden">
                            <a href="#" class="btn btn-link btn-float has-text"><i
                                    class="icon-bars-alt text-primary"></i><span>Statistics</span></a>
                            <a href="#" class="btn btn-link btn-float has-text"><i
                                    class="icon-calculator text-primary"></i> <span>Invoices</span></a>
                            <a href="#" class="btn btn-link btn-float has-text"><i
                                    class="icon-calendar5 text-primary"></i> <span>Schedule</span></a>
                        </div>
                    </div>
                </div>

                <div class="breadcrumb-line">
                    <ul class="breadcrumb" style="float: left;">
                        <li class="active"><a href="#"><i class="icon-arrow-right8 position-left"></i>学生列表</a></li>

                    </ul>

                </div>
            </div>
            <!-- /page header -->

            <div class="content">
                <div class="panel">
                    <div class="panel-heading"></div>
                    <div class="panel-body">
                        <div class="middlebody col-md-12 column">

                            <div class="col-md-12 column">
                                <div class="panel-group" id="panel-567310">
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <a class="panel-title collapsed" data-toggle="collapse"
                                               data-parent="#panel-567310" href="#panel-element-650746">添加</a>
                                        </div>
                                        <div id="panel-element-650746" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                <form role="form" class="form-inline" >
                                                    <div class="form-group">
                                                        <label for="exampleInput1">姓名</label>
                                                        <input type="text" class="form-control" id="exampleInput1" name="studentName"/>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="exampleInput2">学号</label>
                                                        <input type="text" class="form-control" id="exampleInput2" name="studentNumber"/>
                                                    </div>
                                                    <div class="form-group md-col row">
                                                        <label for="exampleInput3" >专业</label>
                                                        <select id="exampleInput3" class="form-control">
                                                            <option data-th-each="tag,tagsIndex:${college}"
                                                                    data-th-value="${tag.collegeId}"
                                                                    data-th-text="${tag.collegeName}">专业
                                                            </option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group md-col">
                                                        <label for="exampleInput4" >学院</label>
                                                        <select id="exampleInput4" class="form-control">
                                                            <option data-th-each="tag,tagsIndex:${major}"
                                                                    data-th-value="${tag.majorId}"
                                                                    data-th-text="${tag.majorName}">学院
                                                            </option>
                                                        </select>
                                                    </div>
                                                    <button type="button" onclick="addstudent()" class="btn btn-default">Submit</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--上面搜索栏+排序-->
                            <form  th:href="@{/studentList}" method="post" name="searchform" th:replace="fragments/searchbox :: searchbox"></form>

                            <!--student列表表格-->
                            <div class="col-md-12 column">
                                <ul class="nav nav-tabs">
                                    <li class="active"><a href="#tab1" data-toggle="tab">用户列表</a></li>
                                </ul>
                                <div class="tab-content col-lg-12 col-xs-12 col-sm-12 col-md-12">
                                    <div class="tab-pane fade in active" id="tab1">
                                        <div class="row clearfix">
                                            <div class="col-md-12 column">
                                            <table class="table table-striped table-hover">
                                                <thead>
                                                <tr>
                                                    <th>
                                                        <a th:href="@{/studentList?(flag=(${flag} != 4)?4:5,title=${title},num=${num})}"
                                                           class="label label-success">姓名</a>
                                                        <i th:class="${flag} == 4?'icon-arrow-up-right3':'hidden'"></i>
                                                        <i th:class="${flag} == 5?'icon-arrow-down-right3':'hidden'"></i>
                                                    </th>
                                                    <th>
                                                        <a th:href="@{/studentList?(flag=(${flag} != 2)?2:3,title=${title},num=${num})}"
                                                           class="label label-success">学号</a>
                                                        <i th:class="${flag} == 2?'icon-arrow-up-right3':'hidden'"></i>
                                                        <i th:class="${flag} == 3?'icon-arrow-down-right3':'hidden'"></i>
                                                    </th>
                                                    <th>
                                                        <a th:href="@{/studentList?(flag=(${flag} != 0)?0:1,title=${title},num=${num})}"
                                                           class="label label-success">专业</a>
                                                        <i th:class="${flag} == 1?'icon-arrow-up-right3':'hidden'"></i>
                                                        <i th:class="${flag} == 0?'icon-arrow-down-right3':'hidden'"></i>
                                                    </th>
                                                    <th>
                                                        <a th:href="@{/studentList?(flag=(${flag} != 6)?6:7,title=${title},num=${num})}"
                                                           class="label label-success">学院</a>
                                                        <i th:class="${flag} == 6?'icon-arrow-up-right3':'hidden'"></i>
                                                        <i th:class="${flag} == 7?'icon-arrow-down-right3':'hidden'"></i>
                                                    </th>
                                                    <th>操作</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr th:each="user,userStat:${studentList}">
                                                    <td th:text="${user.studentName}">userID</td>
                                                    <td th:text="${user.studentNumber}">jack</td>
                                                    <td th:text="${user.collegeName}">2016-11-22</td>
                                                    <td th:text="${user.majorName} == null?'0':${user.majorName}">45</td>
                                                    <td>
                                                        <a class="label label-default"
                                                           th:studentid="${user.studentId}"
                                                           th:stu_userid="${user.stu_userId}"
                                                           onclick="deletestudent(this)">删除</a>
                                                        <a class="label label-info edit"
                                                           th:id="${user.studentId}"
                                                           th:userid="${user.stu_userId}"
                                                           th:name = "${user.studentName}"
                                                           th:email ="${user.userInfo.userEmail}"
                                                           th:mobilePhone ="${user.userInfo.mobilePhone}"
                                                           th:number="${user.studentNumber}"
                                                           th:collegeid="${user.collegeId}"
                                                           th:majorid="${user.majorId}"
                                                        >修改</a>

                                                        <!-- 模态框（Modal） -->
                                                        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                                        <h4 class="modal-title" id="myModalLabel">修改</h4>
                                                                    </div>
                                                                    <div class="modal-body row">
                                                                        <form enctype="multipart/form-data" method="post">
                                                                            <div class="modal-body row">
                                                                                <div class="md-col hidden">
                                                                                    <label for="modifyInput1"
                                                                                           class="control-label col-md-2">学生ID</label>
                                                                                    <div class="col-md-10">
                                                                                        <input type="text"
                                                                                               class="form-control"
                                                                                               id="modifyInput1"/>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput2"
                                                                                           class="control-label col-md-2">学生姓名</label>
                                                                                    <div class="col-md-10">
                                                                                        <input type="text"
                                                                                               class="form-control"
                                                                                               id="modifyInput2"/>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput3"
                                                                                           class="control-label col-md-2">学生学号</label>
                                                                                    <div class="col-md-10">
                                                                                        <input type="text"
                                                                                               class="form-control"
                                                                                               id="modifyInput3"/>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput4"
                                                                                           class="control-label col-md-2">专业</label>
                                                                                    <div class="col-md-10">
                                                                                        <select id="modifyInput4" class="form-control">
                                                                                            <option data-th-each="tag,tagsIndex:${college}"
                                                                                                    data-th-value="${tag.collegeId}"
                                                                                                    data-th-text="${tag.collegeName}">专业
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput5"
                                                                                           class="control-label col-md-2">学院</label>
                                                                                    <div class="col-md-10">
                                                                                        <select id="modifyInput5" class="form-control">
                                                                                            <option data-th-each="tag,tagsIndex:${major}"
                                                                                                    data-th-value="${tag.majorId}"
                                                                                                    data-th-text="${tag.majorName}">学院
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput6"
                                                                                           class="control-label col-md-2">学生邮箱</label>
                                                                                    <div class="col-md-10">
                                                                                        <input type="text"
                                                                                               class="form-control"
                                                                                               id="modifyInput6"/>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput7"
                                                                                           class="control-label col-md-2">学生电话</label>
                                                                                    <div class="col-md-10">
                                                                                        <input type="text"
                                                                                               class="form-control"
                                                                                               id="modifyInput7"/>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="md-col">
                                                                                    <label for="modifyInput8"
                                                                                           class="control-label col-md-2">用户ID</label>
                                                                                    <div class="col-md-10">
                                                                                        <input type="text"
                                                                                               class="form-control"
                                                                                               id="modifyInput8"/>
                                                                                    </div>
                                                                                </div>


                                                                            </div>
                                                                        </form>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                                                                        <button type="button" class="btn btn-primary" onclick="modifystudent();">提交</button>
                                                                    </div>
                                                                </div><!-- /.modal-content -->
                                                            </div><!-- /.modal -->
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                            </div>
                                        </div>
                                        <!--楼下分页-->
                                        <div class="page row clearfix">
                                            <div class="col-md-offset-4 column">
                                                <ul class="pagination pagination-sm">
                                                    <!--前一页-->
                                                    <li><a th:if="${page.currentPage} gt 1"
                                                           th:href="@{/studentList?(currentPage=${page.currentPage-1},flag=${flag},num=${num},title=${title})}">&laquo;</a>
                                                    </li>
                                                    <!--首页-->
                                                    <li th:class="${page.currentPage le 1} ? 'disabled' : ''">
                                                        <a th:if="${page.currentPage != 1}"
                                                           th:href="@{${keywords != null? '/studentList' : '/studentList'}(currentPage=1,keywords=${keywords != null}?${keywords}:'',flag=${flag},num=${num},title=${title})}">首页</a>
                                                        <a th:if="${page.currentPage == 1}" href="javascript:void(0);">首页</a>
                                                    </li>
                                                    <!--动态生成中间的页码格子-->
                                                    <li th:each="pageNo : ${#numbers.sequence(page.currentPage - 3 < 0 ? 0 : page.currentPage - 3, (page.currentPage + 3 > page.totalPage - 3 ? page.totalPage - 1: page.currentPage + 3))}"
                                                        th:class="${page.currentPage eq (pageNo+1)}? 'active' : ''">
                                                        <a th:if="${page.currentPage  eq (pageNo+1)}"
                                                           href="javascript:void(0);">
                                                            <text th:text="${pageNo+1}"></text>
                                                        </a>
                                                        <a th:if="${not (page.currentPage eq (pageNo+1))}"
                                                           th:href="@{${keywords != null ? '/studentList' : '/studentList'}(currentPage=${pageNo+1},keywords=${keywords != null}?${keywords}:'',flag=${flag},num=${num},title=${title})}">
                                                            <text th:text="${pageNo+1}"></text>
                                                        </a>
                                                    </li>
                                                    <!--尾页-->
                                                    <li th:class="${page.currentPage ge page.totalPage} ? 'disabled' : ''">
                                                        <a th:if="${page.currentPage != page.totalPage}"
                                                           th:href="@{${keywords != null? '/studentList' : '/studentList'}(currentPage=${page.totalPage},keywords=${keywords != null}?${keywords}:'',flag=${flag},num=${num},title=${title})}">末页</a>
                                                        <a th:if="${page.currentPage == page.totalPage}"
                                                           href="javascript:void(0);">末页</a>
                                                    </li>
                                                    <!--下一页-->
                                                    <li><a th:if="${page.currentPage} lt ${page.totalPage}"
                                                           th:href="@{/studentList?(currentPage=${page.nextPage},flag=${flag},num=${num},title=${title})}">&raquo;</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- </form>-->
                        </div>

                    </div><!-- panel-body-->
                </div> <!--panel-->
            </div><!-- content-->

            <!--页脚-->
            <div th:replace="fragments/footer :: footer" class="col-lg-12">
                &copy; 2013 The Static Templates
            </div>
        </div>
        <!-- /main content -->

    </div>
    <!-- /page content -->


</div>
<!-- /page container -->

</body>
</html>
</body>
</html>